"""
Function utils
"""

import os
import struct
from functools import wraps, partial
from io import IOBase, FileIO
from pathlib import Path
from lyncs_utils.io import *


def swap(fnc):
    "Returns a wrapper that swaps the first two arguments of the function"
    return wraps(fnc)(
        lambda fname, data, *args, **kwargs: fnc(data, fname, *args, **kwargs)
    )


def default_names(i=0):
    "Infinite generator of default names ('arrN') for entries of an archive."
    yield f"arr{i}"
    yield from default_names(i + 1)
